# Mean Reversion Pattern Configuration for DDPG Validation
# ========================================================

experiment_name: "mean_reversion_validation"
seed: 123  # Different seed for comparison

# Data Configuration - Mean Reversion Pattern
data:
  data_path: "./data/raw/synthetic/mean_reversion_validation.parquet"
  download_data: false
  exchange_names: ["synthetic"]
  symbols: ["MEAN/REVERT"]
  timeframe: "1h"
  data_dir: "data"
  download_since: "2024-01-01T00:00:00+00:00"
  train_size: 450  # Use most of 500 samples

# Environment Configuration
environment:
  name: "MEANREVERT"
  positions: [-1, 0, 1]  # Short, hold, long
  trading_fees: 0.0  # No fees for synthetic validation
  borrow_interest_rate: 0.0

# Network Architecture - Medium complexity for mean reversion
network:
  # Actor network - needs to learn mean detection
  actor_hidden_dims: [48, 24]

  # Value network - moderate complexity
  value_hidden_dims: [48, 24, 12]

# Training Parameters - Optimized for mean reversion learning
training:
  # Optimization - moderate learning rates
  actor_lr: 0.0003
  value_lr: 0.0015
  value_weight_decay: 0.008

  # Training loop - longer for mean reversion strategy
  max_training_steps: 15000  # 75 episodes for convergence
  init_rand_steps: 30  # Some exploration needed
  frames_per_batch: 200
  optim_steps_per_batch: 50
  sample_size: 48  # Medium batch size

  # Replay buffer - medium size
  buffer_size: 8000

  # Target network updates - moderate speed
  tau: 0.003

  # Loss function
  loss_function: "l2"

  # Evaluation - frequent monitoring
  eval_steps: 400  # Must be less than train_size (450)
  eval_interval: 150
  log_interval: 50

# Logging Configuration
logging:
  log_dir: "logs/mean_reversion"
  log_level: "INFO"

# Mean Reversion Pattern Details (for documentation)
pattern_info:
  description: "Mean reverting price with occasional shocks"
  n_samples: 500
  mean_price: 50000.0
  reversion_strength: 0.12
  volatility: 0.04
  shock_probability: 0.03
  shock_magnitude: 0.15
  expected_strategy: "Buy when price < 50000, Sell when price > 50000"
  optimal_return_estimate: "> 150%"  # Should be profitable but less than sine wave
